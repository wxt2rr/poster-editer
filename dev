#!/bin/bash

# æµ·æŠ¥ç¼–è¾‘å™¨å¼€å‘æ¨¡å¼å¿«æ·è„šæœ¬
# ç®€åŒ–å¸¸ç”¨æ“ä½œçš„å¿«æ·æ–¹å¼

case "$1" in
    "start"|"s")
        echo "ğŸš€ å¯åŠ¨æµ·æŠ¥ç¼–è¾‘å™¨..."
        node service.js start
        ;;
    "stop"|"x")
        echo "ğŸ›‘ åœæ­¢æµ·æŠ¥ç¼–è¾‘å™¨..."
        node service.js stop
        ;;
    "restart"|"r")
        echo "ğŸ”„ é‡å¯æµ·æŠ¥ç¼–è¾‘å™¨..."
        node service.js restart
        ;;
    "status"|"st")
        node service.js status
        ;;
    "logs"|"l")
        node service.js logs
        ;;
    "clean"|"c")
        node service.js clean
        ;;
    "install"|"i")
        echo "ğŸ“¦ å®‰è£…ä¾èµ–..."
        cd client && npm install && cd ..
        ;;
    "build"|"b")
        echo "ğŸ—ï¸ æ„å»ºé¡¹ç›®..."
        cd client && npm run build && cd ..
        ;;
    "open"|"o")
        echo "ğŸŒ æ‰“å¼€æµè§ˆå™¨..."
        if command -v open >/dev/null 2>&1; then
            open http://localhost:3000
        elif command -v xdg-open >/dev/null 2>&1; then
            xdg-open http://localhost:3000
        elif command -v start >/dev/null 2>&1; then
            start http://localhost:3000
        else
            echo "è¯·æ‰‹åŠ¨æ‰“å¼€: http://localhost:3000"
        fi
        ;;
    "")
        echo ""
        echo "ğŸ¨ æµ·æŠ¥ç¼–è¾‘å™¨å¼€å‘å·¥å…·"
        echo ""
        echo "å¿«æ·å‘½ä»¤:"
        echo "  start, s     å¯åŠ¨æœåŠ¡"
        echo "  stop, x      åœæ­¢æœåŠ¡"
        echo "  restart, r   é‡å¯æœåŠ¡"
        echo "  status, st   æŸ¥çœ‹çŠ¶æ€"
        echo "  logs, l      æŸ¥çœ‹æ—¥å¿—"
        echo "  clean, c     æ¸…ç†æ—¥å¿—"
        echo "  install, i   å®‰è£…ä¾èµ–"
        echo "  build, b     æ„å»ºé¡¹ç›®"
        echo "  open, o      æ‰“å¼€æµè§ˆå™¨"
        echo ""
        echo "ç¤ºä¾‹:"
        echo "  ./dev start    # å¯åŠ¨æœåŠ¡"
        echo "  ./dev st       # æŸ¥çœ‹çŠ¶æ€"
        echo "  ./dev r        # é‡å¯æœåŠ¡"
        echo ""
        ;;
    *)
        echo "âŒ æœªçŸ¥å‘½ä»¤: $1"
        echo "è¿è¡Œ './dev' æŸ¥çœ‹å¯ç”¨å‘½ä»¤"
        ;;
esac 