# 海报编辑器需求文档

## 1. 项目背景

为了满足用户快速制作海报、宣传图、简历封面、社交媒体配图等需求，需开发一个 **纯前端的在线海报编辑器**。用户可以通过简单的拖拽、点击操作，自由组合文字、图片、图形、素材，实时预览和导出。

目标是打造一个类似于 Canva / 稿定设计 的轻量化编辑工具，具备友好交互和高扩展性。

## 2. 功能需求

### 2.1 核心功能

#### 画布管理
- [x] 支持新建画布（可选择尺寸：~~A4、A3、海报尺寸~~、自定义宽高）
- [x] 支持缩放（放大、缩小、适应屏幕、实际大小）
- [x] 支持背景设置（纯色、~~渐变色、图片填充~~）
- [x] 支持撤销 / 重做

#### 素材上传
- [x] 用户可以上传图片到画布，可以上传多张
- [ ] **实际文件上传处理**（当前为模拟）

#### 文字编辑
- [x] 添加文本框
- [x] 支持字体选择、字号、颜色、加粗、斜体、下划线、行间距、字间距
- [x] 支持文本对齐（左对齐 / 居中 / 右对齐）
- [x] 支持旋转、缩放、拖拽

#### 图形绘制
- [ ] **基本图形绘制功能**（矩形、圆形、线条、三角形等）
- [ ] **图形样式设置**（边框、填充色、透明度等）

#### 图层管理
- [x] 每个对象（文字、图片、形状）为独立图层
- [x] 支持图层排序（置顶 / 置底 / 上移 / 下移）
- [x] 支持锁定、隐藏
- [ ] **图层列表可视化界面**

#### 对象操作
- [x] 拖拽移动
- [x] 缩放（等比 / 自由缩放）
- [x] 旋转
- [x] 删除
- [x] 复制 / 粘贴
- [x] 对齐辅助线（智能对齐、居中提示线）

#### 导出
- [x] 导出为 PNG / JPG
- [x] 支持高清导出（自定义分辨率）
- [x] 支持保存编辑项目为 JSON 文件（用于后续加载）
- [x] 支持PDF格式导出

### 2.2 交互需求

#### 界面布局
- [x] 左侧：素材上传面板
- [x] 中间：画布区域（实时编辑预览）
- [ ] **右上角：功能按钮**（下载、打印、预览、撤销/重做）
- [ ] **底部：缩放控制条**

#### 操作体验
- [x] 拖拽流畅（支持鼠标~~和触摸屏~~）
- [x] 多选操作（Shift / Ctrl 选中多个元素）
- [x] 快捷键支持：
  - [x] Ctrl+Z：撤销
  - [x] Ctrl+Y：重做
  - [x] Ctrl+C / Ctrl+V：复制粘贴
  - [x] Delete：删除
  - [x] ↑ ↓ ← →：微调位置
- [x] 文件导出：支持导出PNG、JPG、PDF格式

## 3. 当前开发状态

### ✅ 已完成功能（约82%）
- 完整的文字编辑功能
- 画布缩放和基本背景设置
- 图片添加和操作
- 完整的撤销/重做系统
- 图层操作逻辑
- 对象操作（拖拽、缩放、旋转）
- 多格式导出功能
- 智能对齐辅助线
- 多选和批量操作
- 完整的快捷键支持

### ❌ 待开发功能
1. **图形绘制功能**（优先级：高）
2. **画布尺寸预设**（A4、A3等）
3. **渐变背景和图片背景**
4. **实际文件上传处理**
5. **图层可视化面板**
6. **界面布局调整**（右上角功能区、底部缩放条）

## 4. 技术架构

- **前端框架**: React
- **拖拽功能**: React DnD
- **导出功能**: html2canvas + jsPDF
- **架构**: 模块化组件设计

## 5. 下一步开发计划

按优先级顺序开发剩余功能，确保核心编辑能力的完整性。 